<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Вход / Регистрация - Vinyl Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> 
    <style>
        .special-logins {
            background: #f9f0ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #8B008B;
        }
        .special-logins h4 {
            color: #8B008B;
            margin-bottom: 10px;
        }
        .login-info {
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <h1><i class="fas fa-record-vinyl"></i> Vinyl Store</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Главная</a></li>
                <li><a href="catalog.html">Каталог</a></li>
                <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Корзина</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="auth-container">
            <!-- Форма входа -->
            <div id="login-form">
                <h2><i class="fas fa-sign-in-alt"></i> Вход в систему</h2>
                <form id="loginForm" class="auth-form" onsubmit="return handleLogin(event)">
                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="email" required placeholder="ваш@email.com">
                    </div>
                    <div class="form-group">
                        <label for="password"><i class="fas fa-lock"></i> Пароль:</label>
                        <input type="password" id="password" required placeholder="Введите пароль">
                    </div>
                    <button type="submit" class="auth-btn">
                        <i class="fas fa-sign-in-alt"></i> Войти
                    </button>
                </form>
                
                <div class="special-logins">
                    <h4><i class="fas fa-users-cog"></i> Доступ для персонала:</h4>
                    <div class="login-info">
                        <p><strong>Менеджер:</strong> manager@vinyl.ru / 222</p>
                        <p><strong>Сотрудник:</strong> employee@vinyl.ru / 111</p>
                    </div>
                </div>
                
                <p class="switch-form">
                    Нет аккаунта? <a href="#" onclick="showRegisterForm()">Зарегистрироваться</a>
                </p>
            </div>

            <!-- Форма регистрации -->
            <div id="register-form" style="display: none;">
                <h2><i class="fas fa-user-plus"></i> Регистрация покупателя</h2>
                <form id="registerForm" class="auth-form" onsubmit="return handleRegister(event)">
                    <div class="form-group">
                        <label for="reg-name"><i class="fas fa-user"></i> ФИО:</label>
                        <input type="text" id="reg-name" required placeholder="Иванов Иван Иванович">
                    </div>
                    <div class="form-group">
                        <label for="reg-email"><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="reg-email" required placeholder="ваш@email.com">
                    </div>
                    <div class="form-group">
                        <label for="reg-phone"><i class="fas fa-phone"></i> Телефон:</label>
                        <input type="tel" id="reg-phone" required placeholder="+7 (999) 123-45-67">
                    </div>
                    <div class="form-group">
                        <label for="reg-password"><i class="fas fa-lock"></i> Пароль:</label>
                        <input type="password" id="reg-password" required minlength="6" placeholder="Не менее 6 символов">
                    </div>
                    <button type="submit" class="auth-btn">
                        <i class="fas fa-user-plus"></i> Зарегистрироваться
                    </button>
                </form>
                <p class="switch-form">
                    Уже есть аккаунт? <a href="#" onclick="showLoginForm()">Войти</a>
                </p>
            </div>
        </div>
    </main>

    <script src="auth.js"></script>
    <script>
        // Функции переключения форм
        function showRegisterForm() {
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('register-form').style.display = 'block';
        }
        function showLoginForm() {
            document.getElementById('register-form').style.display = 'none';
            document.getElementById('login-form').style.display = 'block';
        }
    </script>
    <script src="optimize.js"></script>
    <!-- Индикатор загрузки -->
<div id="global-loader" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); z-index: 9999; justify-content: center; align-items: center;">
    <div style="text-align: center;">
        <div style="width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #8B008B; border-radius: 50%; margin: 0 auto; animation: spin 1s linear infinite;"></div>
        <p style="margin-top: 20px; color: #8B008B; font-weight: bold;">Загрузка...</p>
    </div>
</div>

<style>
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>

<script>
    // Показывать индикатор при действиях
    document.addEventListener('DOMContentLoaded', function() {
        // Показываем на 1 секунду при загрузке
        const loader = document.getElementById('global-loader');
        loader.style.display = 'flex';
        setTimeout(() => {
            loader.style.display = 'none';
        }, 1000);
        
        // Вешаем на все кнопки
        document.querySelectorAll('button, a').forEach(el => {
            el.addEventListener('click', function() {
                if(this.tagName === 'A' || this.type === 'submit') {
                    loader.style.display = 'flex';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 1500);
                }
            });
        });
    });
</script>
</body>

</html>


